""" 
import os 
import streamlit as st
import assemblyai as aai
from st_audiorec import st_audiorec
from pydub import AudioSegment
from io import BytesIO

st.title('Streamlit Audio -> Summary')

# Get the API key from the environment variable
api_key = os.getenv('ASSEMBLYAI_API_KEY')

# Set the API key in the AssemblyAI settings
aai.settings.api_key = api_key
transcriber = aai.Transcriber()
transcriber.stream()

wav_audio_data = st_audiorec()

if wav_audio_data is not None:
    # Decode the audio data passed from the frontend
    wav_audio = AudioSegment.from_wav(BytesIO(wav_audio_data))
    mp3_audio = wav_audio.export("output.mp3", format="mp3")

    # Transcribe the audio data using the AssemblyAI API
    print('Audio data retrieved, processing...')
    audio_transcript = transcriber.transcribe('./output.mp3')
    print('You should see the transcript now....')
    st.write('Your transcript is....')
    st.write(audio_transcript.text)

"""